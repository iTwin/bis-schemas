<?xml version="1.0" encoding="UTF-8"?>
<!-- ==================================================================================
|  * Copyright (c) Bentley Systems, Incorporated. All rights reserved.
|  * See LICENSE.md in the project root for license terms and full copyright notice.
======================================================================================= -->
<ECSchema schemaName="RoadRailUnits" alias="rru" version="01.00.02" description="This contains the unit definitions that are used across Road and Rail schemas" xmlns="http://www.bentley.com/schemas/Bentley.ECXML.3.2">
    <ECSchemaReference name="CoreCustomAttributes" version="01.00.03" alias="CoreCA"/>
    <ECSchemaReference name="BisCustomAttributes" version="01.00.00" alias="bisCA"/>
    <ECSchemaReference name="Formats" version="01.00.00" alias="f"/>
    <ECSchemaReference name="Units" version="01.00.05" alias="u"/>

    <ECCustomAttributes>
        <ProductionStatus xmlns="CoreCustomAttributes.01.00.03">
            <SupportedUse>NotForProduction</SupportedUse>
        </ProductionStatus>
        <SchemaLayerInfo xmlns="BisCustomAttributes.01.00.00">
            <Value>DisciplinePhysical</Value>
        </SchemaLayerInfo>
    </ECCustomAttributes>

    <KindOfQuantity typeName="ANGLE" displayLabel="Road &amp; Rail Angle" persistenceUnit="u:RAD" presentationUnits="f:DefaultRealU(2)[u:ARC_DEG];f:AngleDMS" relativeError="0.0001"/>
    <KindOfQuantity typeName="AREA" displayLabel="Road &amp; Rail Area" persistenceUnit="u:SQ_M" presentationUnits="f:DefaultRealU(2)[u:SQ_M];f:DefaultRealU(2)[u:SQ_FT]" relativeError="0.0001"/>
    <KindOfQuantity typeName="BEARING" displayLabel="Road &amp; Rail Bearing" persistenceUnit="u:RAD" presentationUnits="f:AngleDMS" relativeError="0.0001"/>
    <KindOfQuantity typeName="ELEVATION" displayLabel="Road &amp; Rail Elevation" persistenceUnit="u:M" presentationUnits="f:DefaultRealU(2)[u:M];f:DefaultRealU(2)[u:FT]" relativeError="0.0001"/>
    <KindOfQuantity typeName="FLOW" displayLabel="Road &amp; Rail Flow" persistenceUnit="u:CUB_M_PER_SEC" presentationUnits="f:DefaultRealU(2)[u:CUB_M_PER_SEC];f:DefaultRealU(2)[u:CUB_FT_PER_SEC]" relativeError="0.0001"/>
    <KindOfQuantity typeName="LENGTH" displayLabel="Road &amp; Rail Length" persistenceUnit="u:M" presentationUnits="f:DefaultRealU(2)[u:M];f:DefaultRealU(2)[u:FT];f:DefaultRealU(2)[u:US_SURVEY_FT]" relativeError="0.0001"/>
    <KindOfQuantity typeName="LENGTH_SHORT" displayLabel="Road &amp; Rail Short Length" persistenceUnit="u:M" presentationUnits="f:DefaultRealU(1)[u:MM];f:DefaultRealU(1)[u:IN]" relativeError="0.0001"/>
    <KindOfQuantity typeName="INTENSITY_INFILTRATION" displayLabel="Road &amp; Rainfall Intensity/Infiltration" persistenceUnit="u:M_PER_SEC" presentationUnits="f:DefaultRealU(1)[u:MM_PER_HR];f:DefaultRealU(1)[u:IN_PER_HR]" relativeError="0.0001"/>
  
    <!--
    TEMPORARY / WIP:
        OpenSite+ iModels wants to use PERCENT_SLOPE presentation format for rru:SLOPE properties. Adding another presentation unit to existing ones doesn't work as there is currently no
        way to configure unit formats in application by end users (platform is working on it). PERCENT_SLOPE could be added as the very first entry in 'presentationUnits' to be considered the default one,
        but Presentation layer doesn't pick it as default due to it being in the INTERNATIONAL unit system. As a temporary workaround for OpenSite+ iModels - force PERCENT_SLOPE as the only presentation unit.

        Before releasing this Schema, uncomment the following line, delete the next one after and adjust ordering of 'presentationUnits' if necessary.
        By the time this is Schema is released, platform should have support for unit formatting configuration in iTwin.js / iTwin Studio based applications.
    -->
    <!-- <KindOfQuantity typeName="SLOPE" displayLabel="Road &amp; Rail Slope" persistenceUnit="u:M_PER_M" presentationUnits="f:DefaultRealU(2)[u:PERCENT_SLOPE];f:DefaultRealU(2)[u:M_PER_M];f:DefaultRealU(2)[u:FT_PER_FT]" relativeError="0.0001" /> -->
    <KindOfQuantity typeName="SLOPE" displayLabel="Road &amp; Rail Slope" persistenceUnit="u:M_PER_M" presentationUnits="f:DefaultRealU(2)[u:PERCENT_SLOPE]" relativeError="0.0001" />
    <KindOfQuantity typeName="STATION" displayLabel="Road &amp; Rail Station" persistenceUnit="u:M" presentationUnits="f:StationZ_1000_3[u:M];f:StationZ_100_2[u:FT];f:StationZ_100_2[u:US_SURVEY_FT];f:DefaultRealU(2)[u:M];f:DefaultRealU(2)[u:FT];f:DefaultRealU(2)[u:US_SURVEY_FT]" relativeError="0.0001"/>
    <KindOfQuantity typeName="VELOCITY" displayLabel="Road &amp; Rail Velocity" persistenceUnit="u:M_PER_SEC" presentationUnits="f:DefaultRealU(2)[u:KM_PER_HR];f:DefaultRealU(2)[u:MPH]" relativeError="0.0001"/>
    <KindOfQuantity typeName="VOLUME" displayLabel="Road &amp; Rail Volume" persistenceUnit="u:CUB_M" presentationUnits="f:DefaultRealU(2)[u:CUB_M];f:DefaultRealU(2)[u:CUB_FT]" relativeError="0.0001"/>
    <KindOfQuantity typeName="PERCENTAGE" displayLabel="Road &amp; Rail Percentage" persistenceUnit="u:DECIMAL_PERCENT" presentationUnits="f:DefaultRealU(2)[u:PERCENT];f:DefaultRealU(4)[u:DECIMAL_PERCENT]" relativeError="0.0001"/>
</ECSchema>
