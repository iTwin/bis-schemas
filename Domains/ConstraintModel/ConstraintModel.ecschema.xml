<?xml version="1.0" encoding="UTF-8"?>
<!-- =====================================================================================
|
|     $Source: ConstraintModel/ConstraintModel.ecschema.xml $
|
|  $Copyright: (c) 2018 Bentley Systems, Incorporated. All rights reserved. $
|
======================================================================================= -->
<ECSchema schemaName="ConstraintModel" alias="cml" version="01.00" xmlns="http://www.bentley.com/schemas/Bentley.ECXML.3.1">
    <ECSchemaReference name="BisCore" version="01.00.00" alias="bis" />
    
    <ECRelationshipClass typeName="ElementConstrainsElement" modifier="None" strength="referencing">
      <BaseClass>bis:ElementDrivesElement</BaseClass>
      <ECCustomAttributes>
        <ClassHasHandler xmlns="BisCore.01.00.00"/>
      </ECCustomAttributes>
      <Source multiplicity="(0..*)" roleLabel="constrains" polymorphic="true">
        <Class class="bis:Element"/>
      </Source>
      <Target multiplicity="(0..*)" roleLabel="is constrained by" polymorphic="true">
        <Class class="bis:Element"/>
      </Target>
      <ECProperty propertyName="geomIdSource" typeName="int" description="The geometry id of the source element"/>
      <ECProperty propertyName="geomIdTarget" typeName="int" description="The geometry id of the target element"/>
    </ECRelationshipClass>
  
    <ECRelationshipClass typeName="ElementOffsetsElement" modifier="None" strength="referencing">
      <BaseClass>ElementConstrainsElement</BaseClass>
      <ECCustomAttributes>
        <ClassHasHandler xmlns="BisCore.01.00.00"/>
      </ECCustomAttributes>
      <Source multiplicity="(0..*)" roleLabel="offsets" polymorphic="true">
        <Class class="bis:Element"/>
      </Source>
      <Target multiplicity="(0..*)" roleLabel="is offseted from" polymorphic="true">
        <Class class="bis:Element"/>
      </Target>
      <ECProperty propertyName="offsetvalue"    typeName="double"  description="The value element is offset"/>
      <ECProperty propertyName="direction" typeName="point3d" description="The direction element is offset to"/>
    </ECRelationshipClass>

    <ECRelationshipClass typeName="ElementCoincidesElement" modifier="None" strength="referencing">
      <BaseClass>ElementConstrainsElement</BaseClass>
      <ECCustomAttributes>
        <ClassHasHandler xmlns="BisCore.01.00.00"/>
      </ECCustomAttributes>
      <Source multiplicity="(0..*)" roleLabel="coincides" polymorphic="true">
        <Class class="bis:Element"/>
      </Source>
      <Target multiplicity="(0..*)" roleLabel="is coincident to" polymorphic="true">
        <Class class="bis:Element"/>
      </Target>
    </ECRelationshipClass>

</ECSchema>
