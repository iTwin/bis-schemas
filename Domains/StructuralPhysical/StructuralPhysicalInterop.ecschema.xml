<?xml version="1.0" encoding="utf-8"?>
<ECSchema schemaName="StructuralPhysicalInterop" alias="spi" description ="Mixins necessary for interop between other domains and the Structural Physical Schema" displayLabel="Structural Physical Interop" version="01.00.00"
xmlns="http://www.bentley.com/schemas/Bentley.ECXML.3.1"
xmlns:xsi="http://www.bentley.com/schemas/Bentley.ECXML.3.1">
    <ECSchemaReference name="BisCore" version="01.00.00" alias="bis" />
    <ECSchemaReference name="CoreCustomAttributes" version="01.00.00" alias="CoreCA" />
    <ECEntityClass typeName="IStructuralElement" displayLabel="Structural Element Mixin" description ="An abstract entity from which all structural physical components and assemblies are derived." modifier ="Abstract">
        <ECCustomAttributes>
            <IsMixin xmlns="CoreCustomAttributes.1.0">
                <AppliesToEntityClass>bis:PhysicalElement</AppliesToEntityClass>
            </IsMixin>
        </ECCustomAttributes>
    </ECEntityClass>
    <ECEntityClass typeName="IStructuralComponent" displayLabel="Structural Component Mixin" description ="A component is the smallest distinct structural entity.  It can't be broken down further." modifier ="Abstract">
        <ECCustomAttributes>
            <IsMixin xmlns="CoreCustomAttributes.1.0">
                <AppliesToEntityClass>bis:PhysicalElement</AppliesToEntityClass>
            </IsMixin>
        </ECCustomAttributes>
    </ECEntityClass>
    <ECEntityClass typeName="IStructuralAssembly" displayLabel="Structural Assembly Mixin" description ="A single structural entity that is built from smaller parts known as components or other structural assemblies" modifier ="Abstract">
        <ECCustomAttributes>
            <IsMixin xmlns="CoreCustomAttributes.1.0">
                <AppliesToEntityClass>bis:PhysicalElement</AppliesToEntityClass>
            </IsMixin>
        </ECCustomAttributes>
    </ECEntityClass>
    <ECRelationshipClass typeName="StructuralAssemblyOwnsStructuralComponents" displayLabel="Structural Assembly owns Structural Components" description="The relationship between a structural assemblies and all of the individual elements it is comprised of" modifier="None" strength="embedding">
        <BaseClass>bis:ElementOwnsChildElements</BaseClass>
        <Source multiplicity="(0..1)" roleLabel="ElementOwnsChildElement" polymorphic="true">
            <Class class="IStructuralAssembly"/>
        </Source>
        <Target multiplicity="(0..1)" roleLabel="ElementOwnsChildElement (Reversed)" polymorphic="true">
            <Class class="IStructuralComponent"/>
        </Target>
    </ECRelationshipClass>
</ECSchema>

