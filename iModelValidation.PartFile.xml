<?xml version="1.0" encoding="utf-8"?>
<BuildContext xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../bsicommon/build/PartFile.xsd">

    <Part Name="SchemaSignoffTool" BentleyBuildMakeFile="tools/signoff/src/SchemaSignoffTool.mke" ExcludePlatforms="Android*,Linux*,iOS*">
        <SubPart PartName="ECObjectsNative" PartFile="ECObjects" Repository="ECObjects" />
        <SubPart PartName="DgnPlatformDll" PartFile="DgnPlatform" Repository="DgnPlatform" />
        <SubPart PartName="iModelHubClient" PartFile="WSClient" Repository="WSClient" />
        <SubPart PartName="ToolsSqlang" PartFile="ECObjects" Repository="ECObjects" />
        <Bindings>
            <Files ProductDirectoryName="SchemaSignoffToolDir">
                Delivery/
                Delivery/SchemaSignoffTool.logging.config.xml
            </Files>
        </Bindings>
    </Part>

    <ProductDirectoryList ListName="SchemaSignoffTool">
        <ProductDirectory Name="SchemaSignoffToolDir"     Path=""/>
        <ProductDirectory Name="SchemaSignoffScripts"     Path="signoff"/>
        <ProductDirectory Name="UtilsScripts"             Path="utils"/>
    </ProductDirectoryList>

    <Part Name="SchemaSignoffScripts" BentleyBuildMakeFile="tools/signoff/SignoffScripts.mke" ExcludePlatforms="Android*,Linux*,iOS*">
        <Bindings>
            <Files ProductDirectoryName="SchemaSignoffScripts">
                Delivery\signoff.py
                Delivery\tflogger.py
                Delivery\tfsortsignaturexml.py
            </Files>
        </Bindings>
    </Part>

    <Part Name="UtilsScripts" BentleyBuildMakeFile="tools/utils/utils.mke" ExcludePlatforms="Android*,Linux*,iOS*">
        <Bindings>
            <Files ProductDirectoryName="UtilsScripts">
                Delivery\FindSchemas.py
                Delivery\BisConstants.py
            </Files>
        </Bindings>
    </Part>

    <!-- *************************************** -->
    <!-- ***** Bis Schema Signoff ***** -->
    <!-- *************************************** -->
    
    <Product Name="SchemaSignoff">
        <SubPart PartName="SchemaSignoffTool" />
        <SubPart PartName="SchemaSignoffScripts" />
        <SubPart PartName="UtilsScripts" />
        <Directories DirectoryListName="ECObjects" PartFile="ECObjects" Repository="ECObjects" />
        <Directories DirectoryListName="SchemaSignoffTool" PartFile="iModelValidation" Repository="BisSchemas" />
    </Product>

    <NuGetProduct Name="SchemaSignoffNuGet" OnlyPlatforms="x64" Description="BIS Schema signoff tools">
        <SubPart PartName="SchemaSignoffTool" />
        <SubPart PartName="SchemaSignoffScripts" />
        <SubPart PartName="UtilsScripts" />
        <Directories DirectoryListName="SchemaSignoffNuGet" PartFile="iModelValidation" Repository="BisSchemas" />
    </NuGetProduct>

    <Part Name="SchemaSignoffNuGet-TopLevel">
        <SubNuGetProduct NuGetProductName="SchemaSignoffNuGet" />
    </Part>

    <ProductDirectoryList ListName="SchemaSignoffNuGet">
        <ProductDirectory Name="Assemblies"                                 Path="lib/native"/>
        <ProductDirectory Name="Assemblies"                                 Path="lib/native" LibType="Static"/>
        <ProductDirectory Name="Assets"        RelativeTo="Assemblies"      Path="Assets"/>
        <ProductDirectory Name="Assets"        RelativeTo="Assemblies"      Path="Assets" LibType="static"/>
        <ProductDirectory Name="Libs"                                       Path="lib/native"/>
        <ProductDirectory Name="VendorNotices"                              Path="Notices"/>
        <ProductDirectory Name="VendorNotices"                              Path="Notices" LibType="Static"/>
        <ProductDirectory Name="SchemaSignoffToolDir"                       Path="lib/native"/>
        <ProductDirectory Name="SchemaSignoffScripts"                       Path="lib/native/signoff"/>
        <ProductDirectory Name="UtilsScripts"                               Path="lib/native/utils"/>
    </ProductDirectoryList>

</BuildContext>